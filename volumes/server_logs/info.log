INFO:     | 2023-10-29 13:42:46 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:42:46 | mysql_api | Person avatar with person_id: b79eb4ef-5a4b-414a-9fd5-b6890853e439 retrieved from mysql db.
INFO:     | 2023-10-29 13:42:46 | app | get avatars of userb79eb4ef-5a4b-414a-9fd5-b6890853e439 res:{'status': 'success', 'message': 'record matching person_id: b79eb4ef-5a4b-414a-9fd5-b6890853e439 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:42:54 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:42:54 | mysql_api | Person avatar with person_id: 8230cf93-f554-45d2-be99-46d8eeb2e42e retrieved from mysql db.
INFO:     | 2023-10-29 13:42:54 | app | get avatars of user8230cf93-f554-45d2-be99-46d8eeb2e42e res:{'status': 'success', 'message': 'record matching person_id: 8230cf93-f554-45d2-be99-46d8eeb2e42e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:43:12 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:43:12 | mysql_api | Person avatar with person_id: 9f51015e-f9bf-4e92-a6a0-3e508be638e4 retrieved from mysql db.
INFO:     | 2023-10-29 13:43:12 | app | get avatars of user9f51015e-f9bf-4e92-a6a0-3e508be638e4 res:{'status': 'success', 'message': 'record matching person_id: 9f51015e-f9bf-4e92-a6a0-3e508be638e4 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:43:21 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:43:21 | mysql_api | Person avatar with person_id: abf9f739-86e4-4709-b9d1-1f9aa91aa60d retrieved from mysql db.
INFO:     | 2023-10-29 13:43:21 | app | get avatars of userabf9f739-86e4-4709-b9d1-1f9aa91aa60d res:{'status': 'success', 'message': 'record matching person_id: abf9f739-86e4-4709-b9d1-1f9aa91aa60d retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:43:27 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:43:27 | mysql_api | Person avatar with person_id: 5d380b6a-90c3-4799-a27c-57a740fca814 retrieved from mysql db.
INFO:     | 2023-10-29 13:43:27 | app | get avatars of user5d380b6a-90c3-4799-a27c-57a740fca814 res:{'status': 'success', 'message': 'record matching person_id: 5d380b6a-90c3-4799-a27c-57a740fca814 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:43:39 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:43:39 | mysql_api | Person avatar with person_id: 1c7d23e9-6fa4-45c9-9cf5-fb4ecef2de72 retrieved from mysql db.
INFO:     | 2023-10-29 13:43:39 | app | get avatars of user1c7d23e9-6fa4-45c9-9cf5-fb4ecef2de72 res:{'status': 'success', 'message': 'record matching person_id: 1c7d23e9-6fa4-45c9-9cf5-fb4ecef2de72 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:44:36 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:44:36 | mysql_api | Person avatar with person_id: f14e4bda-946a-42b5-b726-dc2cc1e81609 retrieved from mysql db.
INFO:     | 2023-10-29 13:44:36 | app | get avatars of userf14e4bda-946a-42b5-b726-dc2cc1e81609 res:{'status': 'success', 'message': 'record matching person_id: f14e4bda-946a-42b5-b726-dc2cc1e81609 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:44:49 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:44:49 | mysql_api | Person avatar with person_id: 24b8a66e-47b7-4dda-acd6-b0d3d995acd7 retrieved from mysql db.
INFO:     | 2023-10-29 13:44:49 | app | get avatars of user24b8a66e-47b7-4dda-acd6-b0d3d995acd7 res:{'status': 'success', 'message': 'record matching person_id: 24b8a66e-47b7-4dda-acd6-b0d3d995acd7 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:44:52 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:44:52 | mysql_api | Person avatar with person_id: 5b2ddfbd-c8bc-4dbf-b453-5fc2157f8629 retrieved from mysql db.
INFO:     | 2023-10-29 13:44:52 | app | get avatars of user5b2ddfbd-c8bc-4dbf-b453-5fc2157f8629 res:{'status': 'success', 'message': 'record matching person_id: 5b2ddfbd-c8bc-4dbf-b453-5fc2157f8629 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:45:01 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:45:01 | mysql_api | Person avatar with person_id: 2185845f-2215-43ab-85bb-0d3727fed4e2 retrieved from mysql db.
INFO:     | 2023-10-29 13:45:01 | app | get avatars of user2185845f-2215-43ab-85bb-0d3727fed4e2 res:{'status': 'success', 'message': 'record matching person_id: 2185845f-2215-43ab-85bb-0d3727fed4e2 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:45:08 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:45:08 | mysql_api | Person avatar with person_id: 34057803-87c2-43d3-b354-5700fbfdd113 retrieved from mysql db.
INFO:     | 2023-10-29 13:45:08 | app | get avatars of user34057803-87c2-43d3-b354-5700fbfdd113 res:{'status': 'success', 'message': 'record matching person_id: 34057803-87c2-43d3-b354-5700fbfdd113 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:46:49 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:46:49 | mysql_api | Person avatar with person_id: 26eaaf58-b8f2-4d7c-980e-38f00d5fe5eb retrieved from mysql db.
INFO:     | 2023-10-29 13:46:49 | app | get avatars of user26eaaf58-b8f2-4d7c-980e-38f00d5fe5eb res:{'status': 'success', 'message': 'record matching person_id: 26eaaf58-b8f2-4d7c-980e-38f00d5fe5eb retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:47:29 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:47:29 | mysql_api | Person avatar with person_id: ee30571e-815c-4025-b9de-16dea6e1fca9 retrieved from mysql db.
INFO:     | 2023-10-29 13:47:29 | app | get avatars of useree30571e-815c-4025-b9de-16dea6e1fca9 res:{'status': 'success', 'message': 'record matching person_id: ee30571e-815c-4025-b9de-16dea6e1fca9 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:47:36 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:47:36 | mysql_api | Person avatar with person_id: 1a4b6ec4-a639-43a4-8ec3-f6297aa63956 retrieved from mysql db.
INFO:     | 2023-10-29 13:47:36 | app | get avatars of user1a4b6ec4-a639-43a4-8ec3-f6297aa63956 res:{'status': 'success', 'message': 'record matching person_id: 1a4b6ec4-a639-43a4-8ec3-f6297aa63956 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:47:48 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:47:48 | mysql_api | Person avatar with person_id: 824abffc-adf9-4968-a954-53f5dde1e739 retrieved from mysql db.
INFO:     | 2023-10-29 13:47:48 | app | get avatars of user824abffc-adf9-4968-a954-53f5dde1e739 res:{'status': 'success', 'message': 'record matching person_id: 824abffc-adf9-4968-a954-53f5dde1e739 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:47:59 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:47:59 | mysql_api | Person avatar with person_id: 90622cb8-2188-4a59-9834-cd72b8e6cec0 retrieved from mysql db.
INFO:     | 2023-10-29 13:47:59 | app | get avatars of user90622cb8-2188-4a59-9834-cd72b8e6cec0 res:{'status': 'success', 'message': 'record matching person_id: 90622cb8-2188-4a59-9834-cd72b8e6cec0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:48:14 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:48:14 | mysql_api | Person avatar with person_id: 70e7a3f9-8157-4491-ad99-f881ab1b3d9e retrieved from mysql db.
INFO:     | 2023-10-29 13:48:14 | app | get avatars of user70e7a3f9-8157-4491-ad99-f881ab1b3d9e res:{'status': 'success', 'message': 'record matching person_id: 70e7a3f9-8157-4491-ad99-f881ab1b3d9e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:48:21 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:48:21 | mysql_api | Person avatar with person_id: ee9962fb-75f6-4653-a679-3438d163118d retrieved from mysql db.
INFO:     | 2023-10-29 13:48:21 | app | get avatars of useree9962fb-75f6-4653-a679-3438d163118d res:{'status': 'success', 'message': 'record matching person_id: ee9962fb-75f6-4653-a679-3438d163118d retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:48:34 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:48:34 | mysql_api | Person avatar with person_id: 17cfc2f4-e718-431d-a515-62e8f70967b0 retrieved from mysql db.
INFO:     | 2023-10-29 13:48:34 | app | get avatars of user17cfc2f4-e718-431d-a515-62e8f70967b0 res:{'status': 'success', 'message': 'record matching person_id: 17cfc2f4-e718-431d-a515-62e8f70967b0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:48:51 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:48:51 | mysql_api | Person avatar with person_id: 3171b80d-d7c5-476c-bd4b-233361c25479 retrieved from mysql db.
INFO:     | 2023-10-29 13:48:51 | app | get avatars of user3171b80d-d7c5-476c-bd4b-233361c25479 res:{'status': 'success', 'message': 'record matching person_id: 3171b80d-d7c5-476c-bd4b-233361c25479 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:02 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:02 | mysql_api | Person avatar with person_id: c955141a-5cfa-4744-bf33-b72d9b21eea0 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:02 | app | get avatars of userc955141a-5cfa-4744-bf33-b72d9b21eea0 res:{'status': 'success', 'message': 'record matching person_id: c955141a-5cfa-4744-bf33-b72d9b21eea0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:02 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:02 | mysql_api | Person avatar with person_id: c327657c-03a5-4971-9468-d2605c9534c9 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:02 | app | get avatars of userc327657c-03a5-4971-9468-d2605c9534c9 res:{'status': 'success', 'message': 'record matching person_id: c327657c-03a5-4971-9468-d2605c9534c9 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:12 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:12 | mysql_api | Person avatar with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:12 | app | get avatars of userf02bd592-2620-4aa7-8983-7347040cd7d5 res:{'status': 'success', 'message': 'record matching person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:15 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:15 | mysql_api | Person avatar with person_id: 969bec11-952e-45c3-859d-952029085072 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:15 | app | get avatars of user969bec11-952e-45c3-859d-952029085072 res:{'status': 'success', 'message': 'record matching person_id: 969bec11-952e-45c3-859d-952029085072 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:16 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:49:16 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 13:49:29 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:29 | mysql_api | Person avatar with person_id: 76569a3b-c9a0-41f0-bf91-135037e47a55 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:29 | app | get avatars of user76569a3b-c9a0-41f0-bf91-135037e47a55 res:{'status': 'success', 'message': 'record matching person_id: 76569a3b-c9a0-41f0-bf91-135037e47a55 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:33 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:33 | mysql_api | Person avatar with person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db.
INFO:     | 2023-10-29 13:49:33 | app | get avatars of user78b17254-e48b-409b-b0aa-a65fd076123b res:{'status': 'success', 'message': 'record matching person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:36 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:49:36 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:49:36 | mysql_api | mysql record with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 does not exist.
INFO:     | 2023-10-29 13:49:39 | service | Vector for person with id: f02bd592-2620-4aa7-8983-7347040cd7d5 inserted into milvus db.
INFO:     | 2023-10-29 13:49:42 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:42 | mysql_api | Person avatar with person_id: 6c541056-bdc1-411e-8fe1-d13ea91388f4 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:42 | app | get avatars of user6c541056-bdc1-411e-8fe1-d13ea91388f4 res:{'status': 'success', 'message': 'record matching person_id: 6c541056-bdc1-411e-8fe1-d13ea91388f4 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:49:50 | app | save avatar -> volumes/avatars/20231018-133914.jpeg_f02bd592-2620-4aa7-8983-7347040cd7d5.jpg
INFO:     | 2023-10-29 13:49:51 | app | save dealed avatar -> volumes/avatars/20231018-133914.jpeg_f02bd592-2620-4aa7-8983-7347040cd7d5_final.jpg
INFO:     | 2023-10-29 13:49:51 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:49:51 | mysql_api | mysql record with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 does not exist.
INFO:     | 2023-10-29 13:49:51 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 13:49:51 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 13:49:51 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 13:49:51 | service | commit finished!
INFO:     | 2023-10-29 13:49:51 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 13:49:53 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:53 | mysql_api | Person avatar with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:53 | app | get avatars of userf02bd592-2620-4aa7-8983-7347040cd7d5 res:{'status': 'success', 'message': 'record matching person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/20231018-133914.jpeg_f02bd592-2620-4aa7-8983-7347040cd7d5.jpg'}]}
INFO:     | 2023-10-29 13:49:54 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:49:54 | mysql_api | Person avatar with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db.
INFO:     | 2023-10-29 13:49:54 | app | get avatars of userf02bd592-2620-4aa7-8983-7347040cd7d5 res:{'status': 'success', 'message': 'record matching person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/20231018-133914.jpeg_f02bd592-2620-4aa7-8983-7347040cd7d5.jpg'}]}
INFO:     | 2023-10-29 13:49:56 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:49:56 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:49:56 | mysql_api | mysql record with person_id: 78b17254-e48b-409b-b0aa-a65fd076123b does not exist.
INFO:     | 2023-10-29 13:49:59 | service | Vector for person with id: 78b17254-e48b-409b-b0aa-a65fd076123b inserted into milvus db.
INFO:     | 2023-10-29 13:50:02 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:50:02 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 13:50:02 | service | img distance with person: f02bd592-2620-4aa7-8983-7347040cd7d5 is 0.027668163180351257
INFO:     | 2023-10-29 13:50:02 | service | detected face matches id: f02bd592-2620-4aa7-8983-7347040cd7d5
INFO:     | 2023-10-29 13:50:02 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s and is_default = 1
INFO:     | 2023-10-29 13:50:02 | mysql_api | Person avatar with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db.
INFO:     | 2023-10-29 13:50:02 | app | recognizing faces fininshed!
INFO:     | 2023-10-29 13:50:24 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:50:24 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:50:24 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:50:30 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:50:30 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 13:50:31 | service | img distance with person: f02bd592-2620-4aa7-8983-7347040cd7d5 is 0.020802238956093788
INFO:     | 2023-10-29 13:50:31 | service | detected face matches id: f02bd592-2620-4aa7-8983-7347040cd7d5
INFO:     | 2023-10-29 13:50:31 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s and is_default = 1
INFO:     | 2023-10-29 13:50:31 | mysql_api | Person avatar with person_id: f02bd592-2620-4aa7-8983-7347040cd7d5 retrieved from mysql db.
INFO:     | 2023-10-29 13:50:31 | app | recognizing faces fininshed!
INFO:     | 2023-10-29 13:50:35 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:50:35 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:50:35 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:50:41 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:50:41 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:50:41 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:50:48 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:50:48 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:50:48 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:51:01 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:51:01 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:51:01 | mysql_api | mysql record with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e does not exist.
INFO:     | 2023-10-29 13:51:01 | service | Vector for person with id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e inserted into milvus db.
INFO:     | 2023-10-29 13:51:25 | app | save avatar -> volumes/avatars/20231018-133914.jpeg_9c9b7eb7-f427-486b-a8c1-cef46d2b475e.jpg
INFO:     | 2023-10-29 13:51:26 | app | save dealed avatar -> volumes/avatars/20231018-133914.jpeg_9c9b7eb7-f427-486b-a8c1-cef46d2b475e_final.jpg
INFO:     | 2023-10-29 13:51:26 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:51:26 | mysql_api | mysql record with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e does not exist.
INFO:     | 2023-10-29 13:51:26 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 13:51:26 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 13:51:26 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 13:51:26 | service | commit finished!
INFO:     | 2023-10-29 13:51:26 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 13:51:28 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:51:28 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:51:28 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/20231018-133914.jpeg_9c9b7eb7-f427-486b-a8c1-cef46d2b475e.jpg'}]}
INFO:     | 2023-10-29 13:51:35 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:51:35 | mysql_api | Person avatar with person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db.
INFO:     | 2023-10-29 13:51:35 | app | get avatars of user9c9b7eb7-f427-486b-a8c1-cef46d2b475e res:{'status': 'success', 'message': 'record matching person_id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/20231018-133914.jpeg_9c9b7eb7-f427-486b-a8c1-cef46d2b475e.jpg'}]}
INFO:     | 2023-10-29 13:51:36 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:51:36 | mysql_api | Person avatar with person_id: 25cc9cd7-09ed-4433-91d8-8fd8f093377f retrieved from mysql db.
INFO:     | 2023-10-29 13:51:36 | app | get avatars of user25cc9cd7-09ed-4433-91d8-8fd8f093377f res:{'status': 'success', 'message': 'record matching person_id: 25cc9cd7-09ed-4433-91d8-8fd8f093377f retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:51:40 | app | save avatar -> volumes/avatars/f28854fce4ae2994a4c472a5eb81df48.png_78b17254-e48b-409b-b0aa-a65fd076123b.jpg
INFO:     | 2023-10-29 13:51:41 | app | save dealed avatar -> volumes/avatars/f28854fce4ae2994a4c472a5eb81df48.png_78b17254-e48b-409b-b0aa-a65fd076123b_final.jpg
INFO:     | 2023-10-29 13:51:41 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:51:41 | mysql_api | mysql record with person_id: 78b17254-e48b-409b-b0aa-a65fd076123b does not exist.
INFO:     | 2023-10-29 13:51:41 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 13:51:41 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 13:51:41 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 13:51:41 | service | commit finished!
INFO:     | 2023-10-29 13:51:41 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 13:51:44 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:51:44 | mysql_api | Person avatar with person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db.
INFO:     | 2023-10-29 13:51:44 | app | get avatars of user78b17254-e48b-409b-b0aa-a65fd076123b res:{'status': 'success', 'message': 'record matching person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/f28854fce4ae2994a4c472a5eb81df48.png_78b17254-e48b-409b-b0aa-a65fd076123b.jpg'}]}
INFO:     | 2023-10-29 13:51:48 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:51:48 | mysql_api | Person avatar with person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db.
INFO:     | 2023-10-29 13:51:48 | app | get avatars of user78b17254-e48b-409b-b0aa-a65fd076123b res:{'status': 'success', 'message': 'record matching person_id: 78b17254-e48b-409b-b0aa-a65fd076123b retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/f28854fce4ae2994a4c472a5eb81df48.png_78b17254-e48b-409b-b0aa-a65fd076123b.jpg'}]}
INFO:     | 2023-10-29 13:53:42 | milvus_api | Collection faces_v2 present already.
INFO:     | 2023-10-29 13:54:16 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:54:16 | mysql_api | Person avatar with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db.
INFO:     | 2023-10-29 13:54:16 | app | get avatars of user628979c4-5ec9-4df8-9a46-b1e4baa855dc res:{'status': 'success', 'message': 'record matching person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:54:49 | mysql_api | record deletion waiting to be commited to mysql db.
INFO:     | 2023-10-29 13:54:49 | service | Vector for person with id: f02bd592-2620-4aa7-8983-7347040cd7d5 deleted from milvus db.
INFO:     | 2023-10-29 13:54:58 | mysql_api | record deletion waiting to be commited to mysql db.
INFO:     | 2023-10-29 13:54:58 | service | Vector for person with id: 9c9b7eb7-f427-486b-a8c1-cef46d2b475e deleted from milvus db.
INFO:     | 2023-10-29 13:55:04 | mysql_api | record deletion waiting to be commited to mysql db.
INFO:     | 2023-10-29 13:55:04 | service | Vector for person with id: 78b17254-e48b-409b-b0aa-a65fd076123b deleted from milvus db.
INFO:     | 2023-10-29 13:55:38 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:55:38 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 13:56:03 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:56:03 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:56:03 | mysql_api | mysql record with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc does not exist.
INFO:     | 2023-10-29 13:56:05 | service | Vector for person with id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc inserted into milvus db.
INFO:     | 2023-10-29 13:56:24 | app | save avatar -> volumes/avatars/ae619aac20c1c08fcb397d5443c4f7ba.png_628979c4-5ec9-4df8-9a46-b1e4baa855dc.jpg
INFO:     | 2023-10-29 13:56:26 | app | save dealed avatar -> volumes/avatars/ae619aac20c1c08fcb397d5443c4f7ba.png_628979c4-5ec9-4df8-9a46-b1e4baa855dc_final.png
INFO:     | 2023-10-29 13:56:26 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 13:56:26 | mysql_api | mysql record with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc does not exist.
INFO:     | 2023-10-29 13:56:26 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 13:56:26 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 13:56:26 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 13:56:26 | service | commit finished!
INFO:     | 2023-10-29 13:56:26 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 13:56:30 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:56:30 | mysql_api | Person avatar with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db.
INFO:     | 2023-10-29 13:56:30 | app | get avatars of user628979c4-5ec9-4df8-9a46-b1e4baa855dc res:{'status': 'success', 'message': 'record matching person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/ae619aac20c1c08fcb397d5443c4f7ba.png_628979c4-5ec9-4df8-9a46-b1e4baa855dc.jpg'}]}
INFO:     | 2023-10-29 13:56:40 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:56:40 | mysql_api | Person avatar with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db.
INFO:     | 2023-10-29 13:56:40 | app | get avatars of user628979c4-5ec9-4df8-9a46-b1e4baa855dc res:{'status': 'success', 'message': 'record matching person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/ae619aac20c1c08fcb397d5443c4f7ba.png_628979c4-5ec9-4df8-9a46-b1e4baa855dc.jpg'}]}
INFO:     | 2023-10-29 13:56:46 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 13:56:46 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 13:56:47 | service | img distance with person: 628979c4-5ec9-4df8-9a46-b1e4baa855dc is 0.014326352626085281
INFO:     | 2023-10-29 13:56:47 | service | detected face matches id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc
INFO:     | 2023-10-29 13:56:47 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s and is_default = 1
INFO:     | 2023-10-29 13:56:47 | mysql_api | Person avatar with person_id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc retrieved from mysql db.
INFO:     | 2023-10-29 13:56:47 | app | recognizing faces fininshed!
INFO:     | 2023-10-29 13:57:08 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:57:08 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 13:57:08 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:58:17 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:58:17 | mysql_api | Person avatar with person_id: e46ad753-391b-4b6b-9409-dfa39bd58d9c retrieved from mysql db.
INFO:     | 2023-10-29 13:58:17 | app | get avatars of usere46ad753-391b-4b6b-9409-dfa39bd58d9c res:{'status': 'success', 'message': 'record matching person_id: e46ad753-391b-4b6b-9409-dfa39bd58d9c retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 13:59:41 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 13:59:41 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 13:59:41 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:05 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:05 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:05 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:07 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:07 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:07 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:17 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:17 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:17 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:23 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:23 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:23 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:42 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:42 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:42 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:47 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:47 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:47 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:48 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:48 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:01:48 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:01:59 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:01:59 | mysql_api | Person avatar with person_id: c9517c2a-340e-4b87-8a74-ea422211f04d retrieved from mysql db.
INFO:     | 2023-10-29 14:01:59 | app | get avatars of userc9517c2a-340e-4b87-8a74-ea422211f04d res:{'status': 'success', 'message': 'record matching person_id: c9517c2a-340e-4b87-8a74-ea422211f04d retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:02:03 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:02:03 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:02:03 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:03:00 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:03:00 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:03:00 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:03:04 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:03:04 | mysql_api | Person avatar with person_id: 826c1868-78bd-4a69-8f01-29a8b5e5422f retrieved from mysql db.
INFO:     | 2023-10-29 14:03:04 | app | get avatars of user826c1868-78bd-4a69-8f01-29a8b5e5422f res:{'status': 'success', 'message': 'record matching person_id: 826c1868-78bd-4a69-8f01-29a8b5e5422f retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:03:14 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:03:14 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:03:14 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:03:20 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:03:20 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:03:20 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:04:07 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:04:07 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:04:07 | app | get avatars of user831fc5db-bf71-49ac-908c-7873469eb728 res:{'status': 'success', 'message': 'record matching person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:04:20 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:04:20 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 14:04:24 | service | img distance with person: 628979c4-5ec9-4df8-9a46-b1e4baa855dc is 0.21880650520324707
INFO:     | 2023-10-29 14:04:24 | service | no similar faces were found in the database
INFO:     | 2023-10-29 14:04:24 | app | recognizing faces fininshed!
INFO:     | 2023-10-29 14:04:31 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:04:31 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 14:04:32 | service | img distance with person: 628979c4-5ec9-4df8-9a46-b1e4baa855dc is 0.21907345950603485
INFO:     | 2023-10-29 14:04:32 | service | no similar faces were found in the database
INFO:     | 2023-10-29 14:04:32 | app | recognizing faces fininshed!
[32mINFO[0m:     | 2023-10-29 14:04:49 | milvus_api | Collection faces_v2 present already.
INFO:     | 2023-10-29 14:04:56 | milvus_api | Collection faces_v2 present already.
INFO:     | 2023-10-29 14:04:58 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:04:58 | mysql_api | Person avatar with person_id: 5e52df9f-fa02-4745-9281-0b590fa6b9bc retrieved from mysql db.
INFO:     | 2023-10-29 14:04:58 | app | get avatars of user5e52df9f-fa02-4745-9281-0b590fa6b9bc res:{'status': 'success', 'message': 'record matching person_id: 5e52df9f-fa02-4745-9281-0b590fa6b9bc retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:04:59 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:04:59 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:04:59 | mysql_api | mysql record with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 does not exist.
INFO:     | 2023-10-29 14:05:12 | service | Vector for person with id: 831fc5db-bf71-49ac-908c-7873469eb728 inserted into milvus db.
INFO:     | 2023-10-29 14:05:37 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:05:37 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:05:37 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:05:42 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:05:42 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:05:42 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:05:44 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:05:44 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:05:44 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:05:47 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:05:47 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:05:47 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:05:52 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:05:52 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:05:52 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:02 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:02 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:02 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:03 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:03 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:03 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:07 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:07 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:07 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:09 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:09 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:09 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:12 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:12 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:12 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:14 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:14 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:14 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:20 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:20 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:20 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:22 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:22 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:22 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:24 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:24 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:24 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:43 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:43 | mysql_api | Person avatar with person_id: 8e697117-da4e-4089-8819-5220e4cdbf58 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:43 | app | get avatars of user8e697117-da4e-4089-8819-5220e4cdbf58 res:{'status': 'success', 'message': 'record matching person_id: 8e697117-da4e-4089-8819-5220e4cdbf58 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:48 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:48 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:48 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:06:50 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:06:50 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:06:50 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:07:16 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:07:16 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:07:16 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:15 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:15 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:15 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:24 | app | save avatar -> volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728.jpg
INFO:     | 2023-10-29 14:08:25 | app | save dealed avatar -> volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728_final.png
INFO:     | 2023-10-29 14:08:25 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:08:25 | mysql_api | mysql record with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 does not exist.
INFO:     | 2023-10-29 14:08:25 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 14:08:25 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 14:08:25 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 14:08:25 | service | commit finished!
INFO:     | 2023-10-29 14:08:25 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 14:08:25 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:25 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:25 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:26 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:26 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:26 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:27 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:27 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:27 | app | get avatars of user831fc5db-bf71-49ac-908c-7873469eb728 res:{'status': 'success', 'message': 'record matching person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728.jpg'}]}
INFO:     | 2023-10-29 14:08:32 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:32 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:32 | app | get avatars of user831fc5db-bf71-49ac-908c-7873469eb728 res:{'status': 'success', 'message': 'record matching person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728.jpg'}]}
INFO:     | 2023-10-29 14:08:33 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:33 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:33 | app | get avatars of user831fc5db-bf71-49ac-908c-7873469eb728 res:{'status': 'success', 'message': 'record matching person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728.jpg'}]}
INFO:     | 2023-10-29 14:08:35 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:35 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:35 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:38 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:38 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:38 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:39 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:39 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:39 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:49 | app | cache face to recognize-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:08:49 | app | recognizing img app/.data/blob.jpg
INFO:     | 2023-10-29 14:08:53 | service | img distance with person: 831fc5db-bf71-49ac-908c-7873469eb728 is 0.05953766405582428
INFO:     | 2023-10-29 14:08:53 | service | detected face matches id: 831fc5db-bf71-49ac-908c-7873469eb728
INFO:     | 2023-10-29 14:08:53 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s and is_default = 1
INFO:     | 2023-10-29 14:08:53 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:53 | app | recognizing faces fininshed!
INFO:     | 2023-10-29 14:08:53 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:53 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:53 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:08:57 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:08:57 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:08:57 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:09:05 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:05 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:05 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:09:10 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:10 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:10 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:09:14 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:14 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:14 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:09:15 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:15 | mysql_api | Person avatar with person_id: 816b0370-976f-4ce1-9382-02e11fc2ff38 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:15 | app | get avatars of user816b0370-976f-4ce1-9382-02e11fc2ff38 res:{'status': 'success', 'message': 'record matching person_id: 816b0370-976f-4ce1-9382-02e11fc2ff38 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:09:18 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:18 | mysql_api | Person avatar with person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:18 | app | get avatars of user831fc5db-bf71-49ac-908c-7873469eb728 res:{'status': 'success', 'message': 'record matching person_id: 831fc5db-bf71-49ac-908c-7873469eb728 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/e36c029af0bd6770fd676d80c479bbb7.png_831fc5db-bf71-49ac-908c-7873469eb728.jpg'}]}
INFO:     | 2023-10-29 14:09:23 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:09:23 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:09:23 | mysql_api | mysql record with person_id: 0 does not exist.
INFO:     | 2023-10-29 14:09:26 | service | Vector for person with id: 0 inserted into milvus db.
INFO:     | 2023-10-29 14:09:38 | app | save avatar -> volumes/avatars/avatar.png_0.jpg
INFO:     | 2023-10-29 14:09:39 | app | save dealed avatar -> volumes/avatars/avatar.png_0_final.png
INFO:     | 2023-10-29 14:09:39 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:09:39 | mysql_api | mysql record with person_id: 0 does not exist.
INFO:     | 2023-10-29 14:09:39 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 14:09:39 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 14:09:39 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 14:09:39 | service | commit finished!
INFO:     | 2023-10-29 14:09:39 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 14:09:41 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:41 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:41 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:09:44 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:44 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:44 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:09:49 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:49 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:49 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:09:58 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:09:58 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:09:58 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:01 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:01 | mysql_api | Person avatar with person_id: a511a5ab-9ba5-4f49-917b-9efaeb13b768 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:01 | app | get avatars of usera511a5ab-9ba5-4f49-917b-9efaeb13b768 res:{'status': 'success', 'message': 'record matching person_id: a511a5ab-9ba5-4f49-917b-9efaeb13b768 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:10:01 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:01 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:01 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:04 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:04 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:04 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:06 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:06 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:06 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:07 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:07 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:07 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:09 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:09 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:09 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:11 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:11 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:11 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:12 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:12 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:12 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:14 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:14 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:14 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:16 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:16 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:16 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:18 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:18 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:18 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:19 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:19 | mysql_api | Person avatar with person_id: 0 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:19 | app | get avatars of user0 res:{'status': 'success', 'message': 'record matching person_id: 0 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_0.jpg'}]}
INFO:     | 2023-10-29 14:10:33 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:33 | mysql_api | Person avatar with person_id: 9306f704-70a9-46d8-8528-fd394c8884fb retrieved from mysql db.
INFO:     | 2023-10-29 14:10:33 | app | get avatars of user9306f704-70a9-46d8-8528-fd394c8884fb res:{'status': 'success', 'message': 'record matching person_id: 9306f704-70a9-46d8-8528-fd394c8884fb retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:10:40 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:10:40 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:10:40 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:10:46 | app | cache face to register-> app/.data/blob.jpg
INFO:     | 2023-10-29 14:10:46 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:10:46 | mysql_api | mysql record with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 does not exist.
INFO:     | 2023-10-29 14:10:46 | service | Vector for person with id: faa543b8-4ce1-4f66-b192-da14659daf25 inserted into milvus db.
INFO:     | 2023-10-29 14:11:05 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:11:05 | mysql_api | Person avatar with person_id: 3319aa1c-2cba-4012-b340-05039cbeef89 retrieved from mysql db.
INFO:     | 2023-10-29 14:11:05 | app | get avatars of user3319aa1c-2cba-4012-b340-05039cbeef89 res:{'status': 'success', 'message': 'record matching person_id: 3319aa1c-2cba-4012-b340-05039cbeef89 retrieved from mysql db', 'avatar': ()}
INFO:     | 2023-10-29 14:11:16 | app | save avatar -> volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg
INFO:     | 2023-10-29 14:11:17 | app | save dealed avatar -> volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25_final.png
INFO:     | 2023-10-29 14:11:17 | mysql_api | SELECT * FROM person WHERE user_id = %s
WARNING:  | 2023-10-29 14:11:17 | mysql_api | mysql record with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 does not exist.
INFO:     | 2023-10-29 14:11:17 | mysql_api | INSERT INTO person (user_id, avatar_url, is_default) VALUES (%s, %s, %s)
INFO:     | 2023-10-29 14:11:17 | mysql_api | record insertion waiting to be commit to mysql db.
INFO:     | 2023-10-29 14:11:17 | service | after register_person_avatar insert!
INFO:     | 2023-10-29 14:11:17 | service | commit finished!
INFO:     | 2023-10-29 14:11:17 | app | get db_res {'status': 'success'}
INFO:     | 2023-10-29 14:11:18 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:11:18 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:11:18 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:11:21 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:11:21 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:11:21 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:11:23 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:11:23 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:11:23 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:11:24 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:11:24 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:11:24 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:12:11 | mysql_api | record deletion waiting to be commited to mysql db.
INFO:     | 2023-10-29 14:12:11 | service | Vector for person with id: 628979c4-5ec9-4df8-9a46-b1e4baa855dc deleted from milvus db.
INFO:     | 2023-10-29 14:12:34 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:12:34 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:12:34 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/avatar.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:12:41 | app | save avatar -> volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg
INFO:     | 2023-10-29 14:12:43 | app | save dealed avatar -> volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25_final.png
INFO:     | 2023-10-29 14:12:43 | mysql_api | SELECT * FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:12:43 | mysql_api | Person with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:12:43 | mysql_api | UPDATE person SET avatar_url = %s WHERE user_id = %s and is_default = 1
INFO:     | 2023-10-29 14:12:43 | mysql_api | avatar_url updated in MySQL db.
INFO:     | 2023-10-29 14:12:43 | app | get db_res {'status': 'success', 'message': 'avatar_url updated in MySQL db'}
INFO:     | 2023-10-29 14:12:44 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:12:44 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:12:44 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:12:50 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:12:50 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:12:50 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:12:51 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:12:51 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:12:51 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:14:39 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:14:39 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:14:39 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
INFO:     | 2023-10-29 14:14:53 | mysql_api | SELECT avatar_url FROM person WHERE user_id = %s
INFO:     | 2023-10-29 14:14:53 | mysql_api | Person avatar with person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db.
INFO:     | 2023-10-29 14:14:53 | app | get avatars of userfaa543b8-4ce1-4f66-b192-da14659daf25 res:{'status': 'success', 'message': 'record matching person_id: faa543b8-4ce1-4f66-b192-da14659daf25 retrieved from mysql db', 'avatar': [{'avatar_url': 'volumes/avatars/Bitmap.png_faa543b8-4ce1-4f66-b192-da14659daf25.jpg'}]}
